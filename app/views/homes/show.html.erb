<section data-controller="popover" class="mt-16">

  <div class="flex flex-col gap-y-1 wrap-break-word mt-20 font-extrabold text-6xl tracking-tight mb-6">
    <span>Trusted, pre-booked trips</span>
    <span class="relative flex flex-col overflow-clip">
      <span class="w-0">Â </span>
      <span id="current" class="absolute top-0 left-0 translate-y-0 pb-1 mb-2 leading-12">better than hitch-hiking.</span>
      <span id="next" class="absolute top-0 left-0 translate-y-full pb-1 mb-2">on major highway routes.</span>
    </span>
  </div>
  

<div data-controller="datepicker" data-popover-target="filtersContainer" class="mt-6 relative flex rounded-full bg-sheet border border-gray-300 shadow-lg shadow-gray-200">
  <div class="w-2/8 border-r border-gray-200 flex items-center">

  <div class="ml-8 floating-input-container">
    <input
      type="email"
      id="from_city"
      name="email_address"
      required
      placeholder="Leaving from"
      class="floating-input"
    />

    <label
      for="email_address"
      class="floating-label text-lg text-gray-600"
    >
      Leaving from
    </label>
  </div>

  </div>

  <div class="floating-container w-2/8 border-r border-gray-200 flex items-center">
    <div class="ml-4 floating-input-container">
    <input
      type="em"
      id="from_city"
      name="email_add"
      required
      placeholder="Going to"
      class="floating-input"
    />

    <label
      for="email_add"
      class="floating-label text-lg text-gray-600"
    >
      Going to
    </label>
    </div>

  </div>

  <div data-popover-id-param="date-popover" data-action="click->popover#open" class="w-1/8 border-r border-gray-200 flex flex-col justify-center pl-4 cursor-pointer">
    <p class="text-sm text-gray-600">Date</p>
    <p class="text-xl font-medium tracking-wide">Today</p>

  </div>

  <div data-popover-target="trigger" data-popover-id-param="passengers-popover" data-action="click->popover#open" data-popover-id-param="passengers-popover" class="w-1/8 border-r border-gray-200 flex flex-col justify-center pl-4 cursor-pointer">
    <p class="text-sm text-gray-600">Passengers</p>
    <p class="text-xl font-medium tracking-wide">1 passenger</p>
  </div>

  <div class="w-1/8 flex flex-col justify-center pl-4">
    <p class="text-sm text-gray-600">Vehicle type</p>
    <p class="text-xl font-medium tracking-wide">All types</p>
  </div>

  <div class="w-1/8 flex items-center justify-center p-1">
    <div class="w-20 h-20 rounded-full bg-black flex items-center justify-center ml-auto">
      <%= inline_svg_tag "search.svg", class: "w-8 h-8 text-white" %>
    </div>
  </div>

<div id="date-popover" class="hidden tooltip">
  <div class="border border-gray-300 shadow-lg shadow-gray-300 px-6 pb-4 rounded-lg bg-white ">
    <input name="date" type="text" data-datepicker-target="datepicker" class="w-0 h-0 opacity-0 pointer-events-none"/>
  </div>
</div>


 <div id="passengers-popover" class="hidden tooltip">
    <div class="flex items-center">
      <div class="flex items-start gap-x-16 border border-gray-300 shadow-lg shadow-gray-300 py-4 px-6 rounded-lg bg-white">
        <div class="flex items-start gap-x-32">
          <div>
            <h1 class="text-[12px] uppercase tracking-wide text-gray-600">Passengers</h1>
            
            
          <div class="flex items-center gap-x-12 mt-6">
            <div class="">
              <h2 class="text-[16px] tracking-wide text-charcoal-blue">People</h2>
              <p class="text-gray-500 text-xs tracking-wide">At least one adult</p>
            </div>

            <div class="flex items-center gap-x-4">
              <div class="h-8 w-8 rounded-full border border-gray-500 flex items-center justify-center">
                <%= inline_svg_tag "minus.svg", class: "block" %>
              </div>

              <span class="block">1</span>

              <div class="h-8 w-8 rounded-full border border-gray-500 flex items-center justify-center">
                <%= inline_svg_tag "plus.svg", class: "block" %>
              </div>
            </div>
          </div>
        </div>

        <div class="w-64">
          <h1 class="text-[12px] uppercase tracking-wide text-gray-600">Requirements</h1>

          <div class="flex flex-col gap-y-6 mt-6">
            <div class="flex items-center justify-between">
              <h2 class="text-[16px] tracking-wide text-charcoal-blue">Luggage (20kg or less)</h2>
              <input type="radio" name="set_as_cover" value="" class="toggle-switch">
            </div>
            <div class="flex items-center justify-between">
              <h2 class="text-[16px] tracking-wide text-charcoal-blue">Women Only</h2>
              <input type="radio" name="set_as_cover_1" value="" class="toggle-switch">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>  
    








</div>


  </div>





    













</section>



  
 

<script>
  var phrases = ['on major highway routes.', 'better than hitch-hiking.'];
  var currentIndex = 0;
  var currentElem = document.getElementById('current');
  var nextElem = document.getElementById('next');
  var duration = 500; // transition duration in ms
  var pause = 5000; // pause between slides in ms

  function animateSlide() {
    // Add transition classes to slide
    currentElem.classList.add('transition-transform', 'duration-500', '!-translate-y-full');
    nextElem.classList.add('transition-transform', 'duration-500', '!translate-y-0');

    setTimeout(() => {
      // Add no-transition for instant reset
      currentElem.classList.add('!transition-none');
      nextElem.classList.add('!transition-none');

      // Remove transition classes (positions snap back to base, but with no animation)
      currentElem.classList.remove('transition-transform', 'duration-500', '!-translate-y-full');
      // At this point, current snaps to y-0 with old text

      // Immediately update current text to match the new visible one
      currentElem.innerText = nextElem.innerText;

      // Now remove next's override to snap it back to y-full
      nextElem.classList.remove('transition-transform', 'duration-500', '!translate-y-0');

      // Update next text to the following phrase (now hidden)
      const nextIndex = (currentIndex + 1) % phrases.length;
      nextElem.innerText = phrases[nextIndex];

      // Remove no-transition
      currentElem.classList.remove('!transition-none');
      nextElem.classList.remove('!transition-none');

      // Update index
      currentIndex = (currentIndex + 1) % phrases.length;

      // Schedule next cycle
      setTimeout(animateSlide, pause);
    }, duration);
  }

  // Start the first cycle after initial pause
  setTimeout(animateSlide, pause);
</script>
